# План робіт (Time Tracking App)

Головна вимога — чиста архітектура та використання AI. План структурований так, щоб ми могли генерувати код модуль за модулем, не змішуючи логіку.

**Стек:** Next.js (App Router) + TypeScript + TailwindCSS + Supabase (PostgreSQL).

## Етап 1: Підготовка та Архітектура (Foundation)
Перш ніж писати код, ми маємо налаштувати структуру, щоб уникнути спагетті-коду.

- [x] **1. Ініціалізація проекту**: Створення Next.js проекту з TypeScript та Tailwind.
- [x] **2. Налаштування структури папок (Clean Architecture)**:
    - `/components` (UI - дурні компоненти)
    - `/features` або `/modules` (Бізнес-логіка, розділена за сутностями: Tracker, Projects, Reports)
    - `/lib` або `/services` (API клієнти, утиліти)
    - `/types` (TypeScript інтерфейси)
- [x] **3. Налаштування бази даних (Supabase/Prisma)**: Підключення до БД.

## Етап 2: Проектування Бази Даних (Data Layer)
AI краще працює, коли знає схему даних наперед.

- [ ] **1. Створення моделі Project**:
    - `id`, `name`, `color`, `created_at`.
- [ ] **2. Створення моделі TimeEntry**:
    - `id`, `project_id` (зв'язок), `task_name`, `start_time`, `end_time` (може бути null, якщо таймер йде), `duration` (обчислюване), `created_at`.

## Етап 3: Управління Проектами (Domain: Projects)
Починаємо з проектів, бо без них неможливо створити запис часу.

- [ ] **1. API/Server Actions**: Створення функцій для CRUD (Create, Read, Update, Delete) проектів.
- [ ] **2. UI: Сторінка `/projects`**:
    - Список проектів.
    - Форма додавання/редагування з вибором кольору.
    - Видалення проекту.

## Етап 4: Основний Трекер (Domain: Tracker)
Серце додатку. Тут важливо правильно керувати станом (State Management).

- [ ] **1. Логіка таймера**: Хук `useTimer`, який рахує секунди локально.
- [ ] **2. UI Компонент Timer**:
    - Вибір проекту (Dropdown).
    - Введення назви задачі (Input з автодоповненням).
    - Кнопки Start/Stop.
- [ ] **3. Інтеграція**: При натисканні Stop — запис зберігається в БД.
- [ ] **4. Global State**: Переконатися, що активний таймер видно на будь-якій сторінці (Layout).

## Етап 5: Список Задач та Редагування (Domain: Entries)
Робота з історією.

- [ ] **1. Відображення**: Список записів за "Сьогодні".
- [ ] **2. Групування**: Логіка групування записів за `project_id` та підрахунок суми часу.
- [ ] **3. Редагування**:
    - Зміна назви/проекту.
    - Ручна зміна часу (формат `HH:MM`).
- [ ] **4. Видалення**: Кнопка видалення запису.

## Етап 6: Звіти та Експорт (Domain: Reports)
Фінальна функціональність.

- [ ] **1. Фільтрація**: UI для вибору діапазону дат (Day, Week, Month).
- [ ] **2. Агрегація даних**: Запит до БД для отримання статистики за період.
- [ ] **3. CSV Експорт**: Функція, що перетворює JSON даних у CSV файл для завантаження.

## Етап 7: Полірування та Документація (Delivery)
- [ ] **1. UI/UX**: Перевірка мобільної версії, додавання лоадерів, обробка помилок.
- [ ] **2. Deployment**: Деплой на Vercel.
- [ ] **3. README**: Опис архітектури, як запустити, промпт-лог (дуже важливо для завдання).

### Пропонована Структура Проекту (Clean Architecture)
```
src/
├── app/                 # Next.js App Router (Pages)
│   ├── api/             # API Routes (якщо потрібно)
│   ├── projects/        # Page: Projects
│   ├── reports/         # Page: Reports
│   └── page.tsx         # Page: Tracker (Home)
├── components/
│   ├── ui/              # Базові компоненти (Button, Input, Card)
│   ├── layout/          # Header, Sidebar
│   └── features/        # Компоненти з бізнес-логікою
│       ├── tracker/     # Timer, TaskList
│       ├── projects/    # ProjectList, ColorPicker
│       └── reports/     # DateRangePicker, ExportButton
├── lib/
│   ├── db/              # Prisma/Supabase client
│   ├── services/        # Бізнес-логіка (TimeService, ProjectService)
│   └── utils/           # Форматування часу, CSV генератор
└── types/               # TypeScript Definitions

